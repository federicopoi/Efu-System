{"ast":null,"code":"var _jsxFileName = \"/Users/fedepoi/klockner_tpm/client/src/components/a\\xF1adirtarjeta/A\\xF1adirKaizen.jsx\";\nimport React, { Component } from \"react\";\nimport { Button, Form, FormGroup, Label, Input, Container, Row, Col, Alert } from \"reactstrap\";\nimport { getTarjetas } from \"../../store/actions/tarjetaActions\";\nimport { getCampos } from \"../../store/actions/camposActions\";\nimport { connect } from \"react-redux\";\nimport RIModal from \"./RIModal\";\nimport { Redirect } from \"react-router-dom\";\nimport { agregarTarjeta, agregarTarjetaAmarilla } from \"../../store/actions/tarjetaActions\";\n\nclass AñadirKaizen extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      numero: \"\",\n      preNumero: \"\",\n      linea: \"\",\n      maquina: \"\",\n      codigo: \"\",\n      color: \"\",\n      preNumero: \"\",\n      tema: \"\",\n      perdidaAtacada: \"\",\n      pilar: \"\",\n      lider: \"\"\n    };\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.onChangeColor = e => {\n      const numeroTarjeta = this.props.tarjetas.tarjetas.filter(({\n        color\n      }) => color === e.target.value);\n      const numbersArr = numeroTarjeta.map(({\n        numero\n      }) => numero);\n      const highestNumber = Math.max(...numbersArr);\n      this.setState({\n        [e.target.name]: e.target.value,\n        numero: parseInt(highestNumber) + 1\n      });\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      const {\n        numero,\n        descripcion,\n        color,\n        detecto,\n        prioridad,\n        maquina,\n        parteMaquina,\n        familia,\n        equipo,\n        sustoExperimentado,\n        sustoObservado,\n        impactoAmbiente,\n        sugerencia,\n        tipodeRiesgo,\n        riesgoInicial\n      } = this.state; // Crear Tarjeta\n\n      const nuevaTarjeta = {\n        numero,\n        descripcion,\n        sugerencia,\n        color,\n        detecto,\n        prioridad,\n        familia,\n        maquina,\n        parteMaquina,\n        equipo,\n        riesgoInicial,\n        tipodeRiesgo\n      }; // Crear Tarjeta Amarilla\n\n      const nuevaTarjetaAmarilla = {\n        numero,\n        descripcion,\n        color,\n        detecto,\n        prioridad,\n        maquina,\n        parteMaquina,\n        equipo,\n        sustoExperimentado,\n        sustoObservado,\n        impactoAmbiente,\n        familia,\n        sugerencia,\n        tipodeRiesgo,\n        riesgoInicial\n      };\n      this.state.color !== \"Amarilla\" ? this.props.agregarTarjeta(nuevaTarjeta) : this.props.agregarTarjetaAmarilla(nuevaTarjetaAmarilla);\n    };\n  }\n\n  componentDidMount() {\n    this.props.getTarjetas();\n    this.props.getCampos();\n  }\n\n  componentDidUpdate(prevProps) {\n    const {\n      error\n    } = this.props;\n\n    if (error !== prevProps.error) {\n      // Check login error\n      console.log(error.msg.msg);\n\n      if (error.id === \"AGREGAR_TARJETA_ERROR\") {\n        this.setState({\n          msg: error.msg.msg\n        });\n      } else {\n        this.setState({\n          msg: null\n        });\n      }\n    }\n  }\n\n  render() {\n    if (this.props.tarjetas.agregarsuccess) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: `/tarjetas/`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 14\n        }\n      });\n    }\n\n    const {\n      campos\n    } = this.props.campos;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"page-wrapper d-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"page-content container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"my-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 15\n      }\n    }, \"A\\xF1adir nuevo Quick Kaizen\"), /*#__PURE__*/React.createElement(Form, {\n      className: \"mt-4\",\n      onSubmit: this.onSubmit,\n      id: \"agregartarjeta\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      lg: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"color\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 25\n      }\n    }, \"Color *\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"select\",\n      name: \"color\",\n      id: \"color\",\n      onChange: this.onChangeColor,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 27\n      }\n    }, \"Seleccionar\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 27\n      }\n    }, \"Roja\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 27\n      }\n    }, \"Azul\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 27\n      }\n    }, \"Verde\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 27\n      }\n    }, \"Amarilla\"))), /*#__PURE__*/React.createElement(Col, {\n      lg: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"color\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 25\n      }\n    }, \"Numero *\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"number\",\n      id: \"preNumero\",\n      name: \"preNumero\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 25\n      }\n    }))))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"maquina\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 23\n      }\n    }, \"Maquina *\"), /*#__PURE__*/React.createElement(Input, {\n      name: \"maquina\",\n      id: \"maquina\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"codigo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 23\n      }\n    }, \"C\\xF3digo del Kaizen *\"), /*#__PURE__*/React.createElement(Input, {\n      name: \"codigo\",\n      id: \"codigo\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"lider\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 23\n      }\n    }, \"L\\xEDder del equipo de mejora*\"), /*#__PURE__*/React.createElement(Input, {\n      name: \"lider\",\n      id: \"lider\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"tema\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 23\n      }\n    }, \"Tema *\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"textarea\",\n      name: \"tema\",\n      id: \"tema\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 23\n      }\n    }))), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"linea\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 23\n      }\n    }, \"Linea *\"), /*#__PURE__*/React.createElement(Input, {\n      name: \"linea\",\n      id: \"linea\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"perdida\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 23\n      }\n    }, \"P\\xE9rdida atacada *\"), /*#__PURE__*/React.createElement(Input, {\n      name: \"perdida\",\n      id: \"perdida\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"pilar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 23\n      }\n    }, \"Pilar *\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"select\",\n      name: \"pilar\",\n      id: \"pilar\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 25\n      }\n    }, \"Seleccionar\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 25\n      }\n    }, \"Seguridad\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 25\n      }\n    }, \"Calidad\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 25\n      }\n    }, \"Mantenimiento aut\\xF3nomo\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 25\n      }\n    }, \"Mantenimiento planificado\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 25\n      }\n    }, \"Mejoras enfocadas\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 25\n      }\n    }, \"Capacitaci\\xF3n y Entrenamiento\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 25\n      }\n    }, \"Ambiente\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 25\n      }\n    }, \"Log\\xEDstica\"))))), this.state.msg ? /*#__PURE__*/React.createElement(Alert, {\n      color: \"danger\",\n      className: \"mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 19\n      }\n    }, this.state.msg) : null, /*#__PURE__*/React.createElement(Row, {\n      className: \"mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 21\n      }\n    }, \"Subir\"))))))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    tarjetas: state.tarjetas,\n    campos: state.campos,\n    error: state.error\n  };\n};\n\nexport default connect(mapStateToProps, {\n  agregarTarjeta,\n  agregarTarjetaAmarilla,\n  getTarjetas,\n  getCampos\n})(AñadirKaizen);","map":{"version":3,"sources":["/Users/fedepoi/klockner_tpm/client/src/components/añadirtarjeta/AñadirKaizen.jsx"],"names":["React","Component","Button","Form","FormGroup","Label","Input","Container","Row","Col","Alert","getTarjetas","getCampos","connect","RIModal","Redirect","agregarTarjeta","agregarTarjetaAmarilla","AñadirKaizen","state","numero","preNumero","linea","maquina","codigo","color","tema","perdidaAtacada","pilar","lider","onChange","e","setState","target","name","value","onChangeColor","numeroTarjeta","props","tarjetas","filter","numbersArr","map","highestNumber","Math","max","parseInt","onSubmit","preventDefault","descripcion","detecto","prioridad","parteMaquina","familia","equipo","sustoExperimentado","sustoObservado","impactoAmbiente","sugerencia","tipodeRiesgo","riesgoInicial","nuevaTarjeta","nuevaTarjetaAmarilla","componentDidMount","componentDidUpdate","prevProps","error","console","log","msg","id","render","agregarsuccess","campos","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {\n  Button,\n  Form,\n  FormGroup,\n  Label,\n  Input,\n  Container,\n  Row,\n  Col,\n  Alert,\n} from \"reactstrap\";\nimport { getTarjetas } from \"../../store/actions/tarjetaActions\";\nimport { getCampos } from \"../../store/actions/camposActions\";\nimport { connect } from \"react-redux\";\nimport RIModal from \"./RIModal\";\nimport { Redirect } from \"react-router-dom\";\nimport {\n  agregarTarjeta,\n  agregarTarjetaAmarilla,\n} from \"../../store/actions/tarjetaActions\";\n\nclass AñadirKaizen extends Component {\n  componentDidMount() {\n    this.props.getTarjetas();\n    this.props.getCampos();\n  }\n  state = {\n    numero: \"\",\n    preNumero: \"\",\n    linea: \"\",\n    maquina: \"\",\n    codigo: \"\",\n    color: \"\",\n    preNumero: \"\",\n    tema: \"\",\n    perdidaAtacada: \"\",\n    pilar: \"\",\n    lider: \"\",\n  };\n\n  componentDidUpdate(prevProps) {\n    const { error } = this.props;\n    if (error !== prevProps.error) {\n      // Check login error\n      console.log(error.msg.msg);\n      if (error.id === \"AGREGAR_TARJETA_ERROR\") {\n        this.setState({\n          msg: error.msg.msg,\n        });\n      } else {\n        this.setState({\n          msg: null,\n        });\n      }\n    }\n  }\n\n  onChange = (e) => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n  onChangeColor = (e) => {\n    const numeroTarjeta = this.props.tarjetas.tarjetas.filter(\n      ({ color }) => color === e.target.value\n    );\n    const numbersArr = numeroTarjeta.map(({ numero }) => numero);\n    const highestNumber = Math.max(...numbersArr);\n\n    this.setState({\n      [e.target.name]: e.target.value,\n      numero: parseInt(highestNumber) + 1,\n    });\n  };\n  onSubmit = (e) => {\n    e.preventDefault();\n    const {\n      numero,\n      descripcion,\n      color,\n      detecto,\n      prioridad,\n      maquina,\n      parteMaquina,\n      familia,\n      equipo,\n      sustoExperimentado,\n      sustoObservado,\n      impactoAmbiente,\n      sugerencia,\n      tipodeRiesgo,\n      riesgoInicial,\n    } = this.state;\n\n    // Crear Tarjeta\n    const nuevaTarjeta = {\n      numero,\n      descripcion,\n      sugerencia,\n      color,\n      detecto,\n      prioridad,\n      familia,\n      maquina,\n      parteMaquina,\n      equipo,\n      riesgoInicial,\n      tipodeRiesgo,\n    };\n\n    // Crear Tarjeta Amarilla\n    const nuevaTarjetaAmarilla = {\n      numero,\n      descripcion,\n      color,\n      detecto,\n      prioridad,\n      maquina,\n      parteMaquina,\n      equipo,\n      sustoExperimentado,\n      sustoObservado,\n      impactoAmbiente,\n      familia,\n      sugerencia,\n      tipodeRiesgo,\n      riesgoInicial,\n    };\n    this.state.color !== \"Amarilla\"\n      ? this.props.agregarTarjeta(nuevaTarjeta)\n      : this.props.agregarTarjetaAmarilla(nuevaTarjetaAmarilla);\n  };\n  render() {\n    if (this.props.tarjetas.agregarsuccess) {\n      return <Redirect to={`/tarjetas/`} />;\n    }\n\n    const { campos } = this.props.campos;\n    return (\n      <div>\n        <div className=\"page-wrapper d-block\">\n          <div className=\"page-content container-fluid\">\n            <Container>\n              <h2 className=\"my-2\">Añadir nuevo Quick Kaizen</h2>\n\n              <Form\n                className=\"mt-4\"\n                onSubmit={this.onSubmit}\n                id=\"agregartarjeta\"\n              >\n                <FormGroup>\n                  <div>\n                    <Row>\n                      <Col lg={10}>\n                        <Label for=\"color\">Color *</Label>\n                        <Input\n                          type=\"select\"\n                          name=\"color\"\n                          id=\"color\"\n                          onChange={this.onChangeColor}\n                        >\n                          <option>Seleccionar</option>\n                          <option>Roja</option>\n                          <option>Azul</option>\n                          <option>Verde</option>\n                          <option>Amarilla</option>\n                        </Input>\n                      </Col>\n                      <Col lg={2}>\n                        <Label for=\"color\">Numero *</Label>\n                        <Input\n                          type=\"number\"\n                          id=\"preNumero\"\n                          name=\"preNumero\"\n                          onChange={this.onChange}\n                        />\n                      </Col>\n                    </Row>\n                  </div>\n                </FormGroup>\n\n                <Row>\n                  <Col>\n                    <FormGroup>\n                      <Label for=\"maquina\">Maquina *</Label>\n                      <Input\n                        name=\"maquina\"\n                        id=\"maquina\"\n                        onChange={this.onChange}\n                      ></Input>\n                    </FormGroup>\n\n                    <FormGroup>\n                      <Label for=\"codigo\">Código del Kaizen *</Label>\n                      <Input\n                        name=\"codigo\"\n                        id=\"codigo\"\n                        onChange={this.onChange}\n                      />\n                    </FormGroup>\n                    <FormGroup>\n                      <Label for=\"lider\">Líder del equipo de mejora*</Label>\n                      <Input\n                        name=\"lider\"\n                        id=\"lider\"\n                        onChange={this.onChange}\n                      ></Input>\n                    </FormGroup>\n                    <FormGroup>\n                      <Label for=\"tema\">Tema *</Label>\n                      <Input\n                        type=\"textarea\"\n                        name=\"tema\"\n                        id=\"tema\"\n                        onChange={this.onChange}\n                      />\n                    </FormGroup>\n                  </Col>\n\n                  <Col>\n                    <FormGroup>\n                      <Label for=\"linea\">Linea *</Label>\n\n                      <Input name=\"linea\" id=\"linea\" onChange={this.onChange} />\n                    </FormGroup>\n\n                    <FormGroup>\n                      <Label for=\"perdida\">Pérdida atacada *</Label>\n                      <Input\n                        name=\"perdida\"\n                        id=\"perdida\"\n                        onChange={this.onChange}\n                      />\n                    </FormGroup>\n\n                    <FormGroup>\n                      <Label for=\"pilar\">Pilar *</Label>\n                      <Input\n                        type=\"select\"\n                        name=\"pilar\"\n                        id=\"pilar\"\n                        onChange={this.onChange}\n                      >\n                        <option>Seleccionar</option>\n                        <option>Seguridad</option>\n                        <option>Calidad</option>\n                        <option>Mantenimiento autónomo</option>\n                        <option>Mantenimiento planificado</option>\n                        <option>Mejoras enfocadas</option>\n                        <option>Capacitación y Entrenamiento</option>\n                        <option>Ambiente</option>\n                        <option>Logística</option>\n                      </Input>\n                    </FormGroup>\n                  </Col>\n                </Row>\n\n                {this.state.msg ? (\n                  <Alert color=\"danger\" className=\"mt-3\">\n                    {this.state.msg}\n                  </Alert>\n                ) : null}\n\n                <Row className=\"mt-3\">\n                  <Col>\n                    <Button>Subir</Button>\n                  </Col>\n                </Row>\n              </Form>\n            </Container>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nconst mapStateToProps = (state) => {\n  return {\n    tarjetas: state.tarjetas,\n    campos: state.campos,\n    error: state.error,\n  };\n};\nexport default connect(mapStateToProps, {\n  agregarTarjeta,\n  agregarTarjetaAmarilla,\n  getTarjetas,\n  getCampos,\n})(AñadirKaizen);\n"]},"metadata":{},"sourceType":"module"}