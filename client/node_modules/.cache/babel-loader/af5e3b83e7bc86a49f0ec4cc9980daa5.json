{"ast":null,"code":"var _jsxFileName = \"/Users/fedepoi/klockner_tpm/client/src/components/a\\xF1adirtarjeta/A\\xF1adirKaizen.jsx\";\nimport React, { Component } from \"react\";\nimport { Button, Form, FormGroup, Label, Input, Container, Row, Col, Alert } from \"reactstrap\";\nimport { getTarjetas } from \"../../store/actions/tarjetaActions\";\nimport { getCampos } from \"../../store/actions/camposActions\";\nimport { connect } from \"react-redux\";\nimport RIModal from \"./RIModal\";\nimport { Redirect } from \"react-router-dom\";\nimport { agregarKaizen } from \"../../store/actions/kaizenActions\";\n\nclass AñadirKaizen extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      numero: \"1\",\n      linea: \"\",\n      maquina: \"\",\n      codigo: \"\",\n      tema: \"\",\n      perdidaAtacada: \"\",\n      pilar: \"\",\n      lider: \"\",\n      preTarjeta: [],\n      preNumero: \"\",\n      preColor: \"\"\n    };\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      const {\n        numero,\n        linea,\n        maquina,\n        codigo,\n        color,\n        preNumero,\n        tema,\n        perdidaAtacada,\n        pilar,\n        lider\n      } = this.state; // Crear Tarjeta Kaizen\n\n      const nuevoKaizen = {\n        numero: this.props.tarjetaskaizen.tarjetaskaizen.length + 1,\n        linea,\n        maquina,\n        codigo,\n        preTarjeta: {\n          color: color,\n          numero: preNumero\n        },\n        tema,\n        perdidaAtacada,\n        pilar,\n        lider\n      };\n      this.props.agregarKaizen(nuevoKaizen);\n    };\n  }\n\n  componentDidMount() {\n    this.props.getTarjetas();\n    this.props.getCampos();\n  }\n\n  componentDidUpdate(prevProps) {\n    const {\n      error\n    } = this.props;\n\n    if (error !== prevProps.error) {\n      // Check login error\n      console.log(error.msg.msg);\n\n      if (error.id === \"AGREGAR_TARJETA_ERROR\") {\n        this.setState({\n          msg: error.msg.msg\n        });\n      } else {\n        this.setState({\n          msg: null\n        });\n      }\n    }\n  }\n\n  render() {\n    if (this.props.tarjetaskaizen.agregarsuccess) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: `/kaizen/`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 14\n        }\n      });\n    }\n\n    console.log(this.state);\n    const {\n      campos\n    } = this.props.campos;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"page-wrapper d-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"page-content container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"my-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 15\n      }\n    }, \"A\\xF1adir nuevo Quick Kaizen\"), /*#__PURE__*/React.createElement(Form, {\n      className: \"mt-4\",\n      onSubmit: this.onSubmit,\n      id: \"agregartarjeta\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 23\n      }\n    }, \" \", /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"codigo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 27\n      }\n    }, \"C\\xF3digo del Kaizen *\"), /*#__PURE__*/React.createElement(Input, {\n      name: \"codigo\",\n      id: \"codigo\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 27\n      }\n    })))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      lg: 8,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"color\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 25\n      }\n    }, \" \", \"Si el QK proviene de una tarjeta roja, azul, amarilla o verde, colocar aqu\\xED el color y el n\\xFAmero de tarjeta *\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"select\",\n      name: \"preColor\",\n      id: \"preColor\",\n      value: this.state.preColor,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 27\n      }\n    }, \"Seleccionar\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 27\n      }\n    }, \"Roja\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 27\n      }\n    }, \"Azul\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 27\n      }\n    }, \"Verde\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 27\n      }\n    }, \"Amarilla\"))), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"color\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 25\n      }\n    }, \"Tarjeta Numero *\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"number\",\n      id: \"preNumero\",\n      placeHolder: \"Numero\",\n      name: \"preNumero\",\n      value: this.state.preNumero,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      onClick: () => {\n        this.setState({\n          preTarjeta: [...this.state.preTarjeta, {\n            color: this.state.preColor,\n            numero: this.state.preNumero\n          }],\n          preColor: \"\",\n          preNumero: \"\"\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 23\n      }\n    }, \"Agregar\"))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 19\n      }\n    }, this.state.preTarjeta && this.state.preTarjeta.map(({\n      color,\n      numero\n    }) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mt-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 31\n        }\n      }, color), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 31\n        }\n      }, numero)));\n    }))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"maquina\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 23\n      }\n    }, \"M\\xE1quina *\"), /*#__PURE__*/React.createElement(Input, {\n      name: \"maquina\",\n      id: \"maquina\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"lider\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 23\n      }\n    }, \"L\\xEDder del equipo de mejora*\"), /*#__PURE__*/React.createElement(Input, {\n      name: \"lider\",\n      id: \"lider\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"tema\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 23\n      }\n    }, \"Tema *\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"textarea\",\n      name: \"tema\",\n      id: \"tema\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 23\n      }\n    }))), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"linea\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 23\n      }\n    }, \"Linea *\"), /*#__PURE__*/React.createElement(Input, {\n      name: \"linea\",\n      id: \"linea\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"perdidaAtacada\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 23\n      }\n    }, \"P\\xE9rdida atacada *\"), /*#__PURE__*/React.createElement(Input, {\n      name: \"perdidaAtacada\",\n      id: \"perdidaAtacada\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"pilar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 23\n      }\n    }, \"Pilar *\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"select\",\n      name: \"pilar\",\n      id: \"pilar\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 25\n      }\n    }, \"Seleccionar\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 25\n      }\n    }, \"Seguridad\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 25\n      }\n    }, \"Calidad\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 25\n      }\n    }, \"Mantenimiento aut\\xF3nomo\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 25\n      }\n    }, \"Mantenimiento planificado\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 25\n      }\n    }, \"Mejoras enfocadas\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 25\n      }\n    }, \"Capacitaci\\xF3n y Entrenamiento\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 25\n      }\n    }, \"Ambiente\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 25\n      }\n    }, \"Log\\xEDstica\"))))), this.state.msg ? /*#__PURE__*/React.createElement(Alert, {\n      color: \"danger\",\n      className: \"mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 19\n      }\n    }, this.state.msg) : null, /*#__PURE__*/React.createElement(Row, {\n      className: \"mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 21\n      }\n    }, \"Subir\"))))))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    tarjetaskaizen: state.tarjetaskaizen,\n    campos: state.campos,\n    error: state.error\n  };\n};\n\nexport default connect(mapStateToProps, {\n  agregarKaizen,\n  getTarjetas,\n  getCampos\n})(AñadirKaizen);","map":{"version":3,"sources":["/Users/fedepoi/klockner_tpm/client/src/components/añadirtarjeta/AñadirKaizen.jsx"],"names":["React","Component","Button","Form","FormGroup","Label","Input","Container","Row","Col","Alert","getTarjetas","getCampos","connect","RIModal","Redirect","agregarKaizen","AñadirKaizen","state","numero","linea","maquina","codigo","tema","perdidaAtacada","pilar","lider","preTarjeta","preNumero","preColor","onChange","e","setState","target","name","value","onSubmit","preventDefault","color","nuevoKaizen","props","tarjetaskaizen","length","componentDidMount","componentDidUpdate","prevProps","error","console","log","msg","id","render","agregarsuccess","campos","map","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {\n  Button,\n  Form,\n  FormGroup,\n  Label,\n  Input,\n  Container,\n  Row,\n  Col,\n  Alert,\n} from \"reactstrap\";\nimport { getTarjetas } from \"../../store/actions/tarjetaActions\";\nimport { getCampos } from \"../../store/actions/camposActions\";\nimport { connect } from \"react-redux\";\nimport RIModal from \"./RIModal\";\nimport { Redirect } from \"react-router-dom\";\nimport { agregarKaizen } from \"../../store/actions/kaizenActions\";\n\nclass AñadirKaizen extends Component {\n  componentDidMount() {\n    this.props.getTarjetas();\n    this.props.getCampos();\n  }\n  state = {\n    numero: \"1\",\n    linea: \"\",\n    maquina: \"\",\n    codigo: \"\",\n    tema: \"\",\n    perdidaAtacada: \"\",\n    pilar: \"\",\n    lider: \"\",\n    preTarjeta: [],\n    preNumero: \"\",\n    preColor: \"\",\n  };\n\n  componentDidUpdate(prevProps) {\n    const { error } = this.props;\n    if (error !== prevProps.error) {\n      // Check login error\n      console.log(error.msg.msg);\n      if (error.id === \"AGREGAR_TARJETA_ERROR\") {\n        this.setState({\n          msg: error.msg.msg,\n        });\n      } else {\n        this.setState({\n          msg: null,\n        });\n      }\n    }\n  }\n\n  onChange = (e) => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n  // onChangeColor = (e) => {\n  //   const numeroTarjeta = this.props.tarjetas.tarjetas.filter(\n  //     ({ color }) => color === e.target.value\n  //   );\n  //   const numbersArr = numeroTarjeta.map(({ numero }) => numero);\n  //   const highestNumber = Math.max(...numbersArr);\n\n  //   this.setState({\n  //     [e.target.name]: e.target.value,\n  //     numero: parseInt(highestNumber) + 1,\n  //   });\n  // };\n  onSubmit = (e) => {\n    e.preventDefault();\n    const {\n      numero,\n      linea,\n      maquina,\n      codigo,\n      color,\n      preNumero,\n      tema,\n      perdidaAtacada,\n      pilar,\n      lider,\n    } = this.state;\n\n    // Crear Tarjeta Kaizen\n    const nuevoKaizen = {\n      numero: this.props.tarjetaskaizen.tarjetaskaizen.length + 1,\n      linea,\n      maquina,\n      codigo,\n      preTarjeta: {\n        color: color,\n        numero: preNumero,\n      },\n      tema,\n      perdidaAtacada,\n      pilar,\n      lider,\n    };\n\n    this.props.agregarKaizen(nuevoKaizen);\n  };\n  render() {\n    if (this.props.tarjetaskaizen.agregarsuccess) {\n      return <Redirect to={`/kaizen/`} />;\n    }\n\n    console.log(this.state);\n\n    const { campos } = this.props.campos;\n    return (\n      <div>\n        <div className=\"page-wrapper d-block\">\n          <div className=\"page-content container-fluid\">\n            <Container>\n              <h2 className=\"my-2\">Añadir nuevo Quick Kaizen</h2>\n\n              <Form\n                className=\"mt-4\"\n                onSubmit={this.onSubmit}\n                id=\"agregartarjeta\"\n              >\n                <FormGroup>\n                  <div>\n                    <Row>\n                      <Col>\n                        {\" \"}\n                        <FormGroup>\n                          <Label for=\"codigo\">Código del Kaizen *</Label>\n                          <Input\n                            name=\"codigo\"\n                            id=\"codigo\"\n                            onChange={this.onChange}\n                          />\n                        </FormGroup>\n                      </Col>\n                    </Row>\n\n                    <Row>\n                      <Col lg={8}>\n                        <Label for=\"color\">\n                          {\" \"}\n                          Si el QK proviene de una tarjeta roja, azul, amarilla\n                          o verde, colocar aquí el color y el número de tarjeta\n                          *\n                        </Label>\n\n                        <Input\n                          type=\"select\"\n                          name=\"preColor\"\n                          id=\"preColor\"\n                          value={this.state.preColor}\n                          onChange={this.onChange}\n                        >\n                          <option>Seleccionar</option>\n                          <option>Roja</option>\n                          <option>Azul</option>\n                          <option>Verde</option>\n                          <option>Amarilla</option>\n                        </Input>\n                      </Col>\n\n                      <Col>\n                        <Label for=\"color\">Tarjeta Numero *</Label>\n                        <Input\n                          type=\"number\"\n                          id=\"preNumero\"\n                          placeHolder=\"Numero\"\n                          name=\"preNumero\"\n                          value={this.state.preNumero}\n                          onChange={this.onChange}\n                        />\n                      </Col>\n\n                      <Button\n                        onClick={() => {\n                          this.setState({\n                            preTarjeta: [\n                              ...this.state.preTarjeta,\n                              {\n                                color: this.state.preColor,\n                                numero: this.state.preNumero,\n                              },\n                            ],\n                            preColor: \"\",\n                            preNumero: \"\",\n                          });\n                        }}\n                      >\n                        Agregar\n                      </Button>\n                    </Row>\n                  </div>\n                  <Row>\n                    {this.state.preTarjeta &&\n                      this.state.preTarjeta.map(({ color, numero }) => {\n                        return (\n                          <div className=\"mt-3\">\n                            <Col>\n                              <p>{color}</p>\n                              <p>{numero}</p>\n                            </Col>\n                          </div>\n                        );\n                      })}\n                  </Row>\n                </FormGroup>\n\n                <Row>\n                  <Col>\n                    <FormGroup>\n                      <Label for=\"maquina\">Máquina *</Label>\n                      <Input\n                        name=\"maquina\"\n                        id=\"maquina\"\n                        onChange={this.onChange}\n                      ></Input>\n                    </FormGroup>\n\n                    <FormGroup>\n                      <Label for=\"lider\">Líder del equipo de mejora*</Label>\n                      <Input\n                        name=\"lider\"\n                        id=\"lider\"\n                        onChange={this.onChange}\n                      ></Input>\n                    </FormGroup>\n                    <FormGroup>\n                      <Label for=\"tema\">Tema *</Label>\n                      <Input\n                        type=\"textarea\"\n                        name=\"tema\"\n                        id=\"tema\"\n                        onChange={this.onChange}\n                      />\n                    </FormGroup>\n                  </Col>\n\n                  <Col>\n                    <FormGroup>\n                      <Label for=\"linea\">Linea *</Label>\n\n                      <Input name=\"linea\" id=\"linea\" onChange={this.onChange} />\n                    </FormGroup>\n\n                    <FormGroup>\n                      <Label for=\"perdidaAtacada\">Pérdida atacada *</Label>\n                      <Input\n                        name=\"perdidaAtacada\"\n                        id=\"perdidaAtacada\"\n                        onChange={this.onChange}\n                      />\n                    </FormGroup>\n\n                    <FormGroup>\n                      <Label for=\"pilar\">Pilar *</Label>\n                      <Input\n                        type=\"select\"\n                        name=\"pilar\"\n                        id=\"pilar\"\n                        onChange={this.onChange}\n                      >\n                        <option>Seleccionar</option>\n                        <option>Seguridad</option>\n                        <option>Calidad</option>\n                        <option>Mantenimiento autónomo</option>\n                        <option>Mantenimiento planificado</option>\n                        <option>Mejoras enfocadas</option>\n                        <option>Capacitación y Entrenamiento</option>\n                        <option>Ambiente</option>\n                        <option>Logística</option>\n                      </Input>\n                    </FormGroup>\n                  </Col>\n                </Row>\n\n                {this.state.msg ? (\n                  <Alert color=\"danger\" className=\"mt-3\">\n                    {this.state.msg}\n                  </Alert>\n                ) : null}\n\n                <Row className=\"mt-3\">\n                  <Col>\n                    <Button>Subir</Button>\n                  </Col>\n                </Row>\n              </Form>\n            </Container>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nconst mapStateToProps = (state) => {\n  return {\n    tarjetaskaizen: state.tarjetaskaizen,\n    campos: state.campos,\n    error: state.error,\n  };\n};\nexport default connect(mapStateToProps, {\n  agregarKaizen,\n  getTarjetas,\n  getCampos,\n})(AñadirKaizen);\n"]},"metadata":{},"sourceType":"module"}